!function(){"use strict";function t(){function t(t){var n=document.getElementById("details");n&&(n.innerHTML=t)}function n(t){return t.data.name}function e(t){var n=0,e=1,r=0,a=10,i=6;if(t){for(var u=0;u<t.length&&!(u>i);u++)n+=e*(t.charCodeAt(u)%a),r+=e*(a-1),e*=.7;r>0&&(n/=r)}return n}function r(t){var n=0;if(t){var r=t.split("`");r.length>1&&(t=r[r.length-1]),t=t.split("(")[0],n=e(t)}var a=200+Math.round(55*n),i=0+Math.round(230*(1-n)),u=0+Math.round(55*(1-n));return"rgb("+a+","+i+","+u+")"}function a(t){t.data.original||(t.data.original=t.data.value),t.data.value=0,t.children&&t.children.forEach(a)}function i(t){t.data.fade=!1,t.data.original&&(t.data.value=t.data.original),t.children&&t.children.forEach(i)}function u(t){var n=[];if(t.parent){var e=t.parent.children.indexOf(t);n=t.parent.children.slice(0),n.splice(e,1)}return n}function c(t){var n=u(t);n.forEach(function(t){a(t)}),t.parent&&c(t.parent)}function o(t){t.parent&&(t.parent.data.fade=!0,o(t.parent))}function l(t){O.hide(t),c(t),i(t),o(t),s(),"function"==typeof L&&L(t)}function d(t,n){function e(t){var n=t.data.name;t.children&&t.children.forEach(function(t){e(t)}),n.match(r)?(t.highlight=!0,a.push(t)):t.highlight=!1}var r=new RegExp(n),a=[];return e(t),a}function f(t){t.highlight=!1,t.children&&t.children.forEach(function(t){f(t)})}function h(t,n){return"function"==typeof A?A(t,n):A?d3.ascending(t.data.name,n.data.name):void 0}function s(){y.each(function(e){function r(t){return(t.x1-t.x0)*u}var a=d3.scaleLinear().range([0,v]),i=d3.scaleLinear().range([0,E]);A&&e.sort(h),e.sum(function(t){if(t.fade)return 0;var n=t.v||t.value||0;if(t.children)for(var e=0;e<t.children.length;e++)n-=t.children[e].value;return n}),T(e);var u=v/(e.x1-e.x0),c=d3.select(this).select("svg").selectAll("g").data(e.descendants());c.transition().duration(M).ease(k).attr("transform",function(t){return"translate("+a(t.x0)+","+(C?i(t.depth):x-i(t.depth)-E)+")"}),c.select("rect").transition().duration(M).ease(k).attr("width",r);var o=c.enter().append("svg:g").attr("transform",function(t){return"translate("+a(t.x0)+","+(C?i(t.depth):x-i(t.depth)-E)+")"});o.append("svg:rect").attr("width",r),w||o.append("svg:title"),o.append("foreignObject").append("xhtml:div"),c=d3.select(this).select("svg").selectAll("g").data(e.descendants()),c.attr("width",r).attr("height",function(t){return E}).attr("name",function(t){return t.data.name}).attr("class",function(t){return t.data.fade?"frame fade":"frame"}),c.select("rect").attr("height",function(t){return E}).attr("fill",function(t){return H(t)}),w||c.select("title").text(j),c.select("foreignObject").attr("width",r).attr("height",function(t){return E}).select("div").attr("class","label").style("display",function(t){return r(t)<35?"none":"block"}).text(n),c.on("click",l),c.exit().remove(),c.on("mouseover",function(n){w&&O.show(n),t(j(n))}).on("mouseout",function(n){w&&O.hide(n),t("")})})}function g(t,n){n.forEach(function(n){var e=_.find(t,function(t){return t.name===n.name});e?(e.original?e.original+=n.value:e.value+=n.value,n.children&&(e.children||(e.children=[]),g(e.children,n.children))):t.push(n)})}function m(t){var n=d3.hierarchy(t.datum(),function(t){return t.c||t.children});return y=t.datum(n),arguments.length?(x||(x=(n.height+2)*E),y.each(function(t){p||(p=d3.select(this).append("svg:svg").attr("width",v).attr("height",x).attr("class","partition d3-flame-graph").call(O),p.append("svg:text").attr("class","title").attr("text-anchor","middle").attr("y","25").attr("x",v/2).attr("fill","#808080").text(b))}),void s()):m}var p,v=960,x=null,E=18,y=null,w=!0,b="",M=750,k=d3.easeCubic,A=!0,C=!1,L=null,O=d3.tip().direction("s").offset([8,0]).attr("class","d3-flame-graph-tip").html(function(t){return j(t)}),j=function(t){return t.data.name+" ("+d3.format(".3f")(100*(t.x1-t.x0),3)+"%, "+t.data.value+" samples)"},H=function(t){return t.highlight?"#E600E6":r(t.data.name)},T=d3.partition();return m.height=function(t){return arguments.length?(x=t,m):x},m.width=function(t){return arguments.length?(v=t,m):v},m.cellHeight=function(t){return arguments.length?(E=t,m):E},m.tooltip=function(t){return arguments.length?("function"==typeof t&&(O=t),w=!!t,m):w},m.title=function(t){return arguments.length?(b=t,m):b},m.transitionDuration=function(t){return arguments.length?(M=t,m):M},m.transitionEase=function(t){return arguments.length?(k=t,m):k},m.sort=function(t){return arguments.length?(A=t,m):A},m.reversed=function(t){return arguments.length?(C=t,m):C},m.label=function(t){return arguments.length?(j=t,m):j},m.search=function(t){var n=[];return y.each(function(e){n=d(e,t),s()}),n},m.clear=function(){y.each(function(t){f(t),s()})},m.zoomTo=function(t){l(t)},m.resetZoom=function(){y.each(function(t){l(t)})},m.onClick=function(t){return arguments.length?(L=t,m):L},m.merge=function(t){var n;y.each(function(e){g([e.data],[t]),n=d3.hierarchy(e.data,function(t){return t.c||t.children})}),y=y.datum(n),s()},m.color=function(t){return arguments.length?(H=t,m):H},m}"undefined"!=typeof module&&module.exports?module.exports=t:d3.flameGraph=t}();