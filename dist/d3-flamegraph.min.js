!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3"),require("sha1")):"function"==typeof define&&define.amd?define(["exports","d3","sha1"],n):n(t.d3=t.d3||{},t.d3,t.sha1)}(this,function(t,n,e){"use strict";var r="default"in n?n.default:n;e=e&&e.hasOwnProperty("default")?e.default:e;var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var i,a=(function(t){!function(n,e){if(t.exports){var o=r;t.exports=e(o)}else n.d3.tip=e(n.d3)}(o,function(t){return function(){var n=function(){return"n"},e=function(){return[0,0]},r=function(){return" "},o=d(),i=null,a=null,u=null;function f(t){var n;i="svg"===(n=(n=t).node()).tagName.toLowerCase()?n:n.ownerSVGElement,a=i.createSVGPoint(),document.body.appendChild(o)}f.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(u=t.pop());var o,i=r.apply(this,t),a=e.apply(this,t),d=n.apply(this,t),h=s(),p=c.length,g=document.documentElement.scrollTop||document.body.scrollTop,v=document.documentElement.scrollLeft||document.body.scrollLeft;for(h.html(i).style("opacity",1).style("pointer-events","all");p--;)h.classed(c[p],!1);return o=l.get(d).apply(this),h.classed(d,!0).style("top",o.top+a[0]+g+"px").style("left",o.left+a[1]+v+"px"),f},f.hide=function(){return s().style("opacity",0).style("pointer-events","none"),f},f.attr=function(n,e){if(arguments.length<2&&"string"==typeof n)return s().attr(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(s(),r),f},f.style=function(n,e){if(arguments.length<2&&"string"==typeof n)return s().style(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(s(),r),f},f.direction=function(t){return arguments.length?(n=null==t?t:p(t),f):n},f.offset=function(t){return arguments.length?(e=null==t?t:p(t),f):e},f.html=function(t){return arguments.length?(r=null==t?t:p(t),f):r},f.destroy=function(){return o&&(s().remove(),o=null),f};var l=t.map({n:function(){var t=h();return{top:t.n.y-o.offsetHeight,left:t.n.x-o.offsetWidth/2}},s:function(){var t=h();return{top:t.s.y,left:t.s.x-o.offsetWidth/2}},e:function(){var t=h();return{top:t.e.y-o.offsetHeight/2,left:t.e.x}},w:function(){var t=h();return{top:t.w.y-o.offsetHeight/2,left:t.w.x-o.offsetWidth}},nw:function(){var t=h();return{top:t.nw.y-o.offsetHeight,left:t.nw.x-o.offsetWidth}},ne:function(){var t=h();return{top:t.ne.y-o.offsetHeight,left:t.ne.x}},sw:function(){var t=h();return{top:t.sw.y,left:t.sw.x-o.offsetWidth}},se:function(){var t=h();return{top:t.se.y,left:t.e.x}}}),c=l.keys();function d(){var n=t.select(document.createElement("div"));return n.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),n.node()}function s(){return null===o&&(o=d(),document.body.appendChild(o)),t.select(o)}function h(){for(var n=u||t.event.target;void 0===n.getScreenCTM&&"undefined"===n.parentNode;)n=n.parentNode;var e={},r=n.getScreenCTM(),o=n.getBBox(),i=o.width,f=o.height,l=o.x,c=o.y;return a.x=l,a.y=c,e.nw=a.matrixTransform(r),a.x+=i,e.ne=a.matrixTransform(r),a.y+=f,e.se=a.matrixTransform(r),a.x-=i,e.sw=a.matrixTransform(r),a.y-=f/2,e.w=a.matrixTransform(r),a.x+=i,e.e=a.matrixTransform(r),a.x-=i/2,a.y-=f/2,e.n=a.matrixTransform(r),a.y+=f,e.s=a.matrixTransform(r),e}function p(t){return"function"==typeof t?t:function(){return t}}return f}})}(i={exports:{}},i.exports),i.exports);t.flamegraph=function(){var t,r=960,o=null,i=18,u=null,f=!0,l="",c=750,d=n.easeCubic,s=!1,h=!1,p=null,g=0,v=null,y=a().direction("s").offset([8,0]).attr("class","d3-flame-graph-tip").html(function(t){return b(t)});function m(t){return t.data.n||t.data.name}function x(t){return t.c||t.children}function w(t){return t.v||t.value}var b=function(t){return m(t)+" ("+n.format(".3f")(100*(t.x1-t.x0),3)+"%, "+w(t)+" samples)"};function M(t){v&&(v.innerHTML=t)}var E=function(t){return t.highlight?"#E600E6":function(t,n){var e,r,o,i;void 0===n||""===n?i="warm":(i="red",void 0!==t&&t&&t.match(/::/)&&(i="yellow"),"kernel"===n?i="orange":"jit"===n?i="green":"inlined"===n&&(i="aqua"));var a=0;if(t){var u=t.split("`");u.length>1&&(t=u[u.length-1]),t=t.split("(")[0],a=function(t){var n=0,e=0,r=1;if(t){for(var o=0;o<t.length&&!(o>6);o++)n+=r*(t.charCodeAt(o)%10),e+=9*r,r*=.7;e>0&&(n/=e)}return n}(t)}return"red"===i?(e=200+Math.round(55*a),r=50+Math.round(80*a),o=r):"orange"===i?(e=190+Math.round(65*a),r=90+Math.round(65*a),o=0):"yellow"===i?(e=175+Math.round(55*a),r=e,o=50+Math.round(20*a)):"green"===i?(e=50+Math.round(60*a),r=200+Math.round(55*a),o=e):"aqua"===i?(e=50+Math.round(60*a),r=165+Math.round(55*a),o=r):(e=200+Math.round(55*a),r=0+Math.round(230*(1-a)),o=0+Math.round(55*(1-a))),"rgb("+e+","+r+","+o+")"}(m(t),function(t){return t.data.l||t.data.libtype}(t))};function T(t){t.data.hide=!0,x(t)&&x(t).forEach(T)}function C(t){t.data.fade=!1,t.data.hide=!1,x(t)&&x(t).forEach(C)}function H(t){y.hide(t),function t(n){(function(t){var n=[];if(t.parent){var e=t.parent.children.indexOf(t);(n=t.parent.children.slice(0)).splice(e,1)}return n})(n).forEach(function(t){T(t)}),n.parent&&t(n.parent)}(t),C(t),function t(n){n.parent&&(n.parent.data.fade=!0,t(n.parent))}(t),S(),"function"==typeof p&&p(t)}function A(t,e){return"function"==typeof s?s(t,e):s?n.ascending(m(t),m(e)):void 0}var L=n.partition();function S(){u.each(function(t){var e=n.scaleLinear().range([0,r]),a=n.scaleLinear().range([0,i]);s&&t.sort(A),t.sum(function(t){if(t.fade||t.hide)return 0;var n=w(t);if(x(t))for(var e=x(t),r=0;r<e.length;r++)n-=w(e[r]);return n}),L(t);var u=r/(t.x1-t.x0);function l(t){return(t.x1-t.x0)*u}var p=function(t){var n=t.descendants();if(g>0){var e=r/(t.x1-t.x0);n=n.filter(function(t){return(t.x1-t.x0)*e>g})}return n}(t),v=n.select(this).select("svg").selectAll("g").data(p,function(t){return t.id});v.transition().duration(c).ease(d).attr("transform",function(t){return"translate("+e(t.x0)+","+(h?a(t.depth):o-a(t.depth)-i)+")"}),v.select("rect").attr("width",l);var T=v.enter().append("svg:g").attr("transform",function(t){return"translate("+e(t.x0)+","+(h?a(t.depth):o-a(t.depth)-i)+")"});T.append("svg:rect").transition().delay(c/2).attr("width",l),f||T.append("svg:title"),T.append("foreignObject").append("xhtml:div"),(v=n.select(this).select("svg").selectAll("g").data(p,function(t){return t.id})).attr("width",l).attr("height",function(t){return i}).attr("name",function(t){return m(t)}).attr("class",function(t){return t.data.fade?"frame fade":"frame"}),v.select("rect").attr("height",function(t){return i}).attr("fill",function(t){return E(t)}),f||v.select("title").text(b),v.select("foreignObject").attr("width",l).attr("height",function(t){return i}).select("div").attr("class","d3-flame-graph-label").style("display",function(t){return l(t)<35?"none":"block"}).transition().delay(c).text(m),v.on("click",H),v.exit().remove(),v.on("mouseover",function(t){f&&y.show(t,this),M(b(t))}).on("mouseout",function(t){f&&y.hide(t),M("")})})}function j(t,n,r){t.id=e(((r||0)+1^3)*(7^t.depth)+t.data.n+(n||""));for(var o=t.c||t.children||[],i=0;i<o.length;i++)j(o[i],t.id,i)}function k(e){var a=n.hierarchy(e.datum(),function(t){return x(t)});if(j(a),u=e.datum(a),!arguments.length)return k;o||(o=(a.height+2)*i),u.each(function(e){t||(t=n.select(this).append("svg:svg").attr("width",r).attr("height",o).attr("class","partition d3-flame-graph").call(y)).append("svg:text").attr("class","title").attr("text-anchor","middle").attr("y","25").attr("x",r/2).attr("fill","#808080").text(l)}),S()}return k.height=function(t){return arguments.length?(o=t,k):o},k.width=function(t){return arguments.length?(r=t,k):r},k.cellHeight=function(t){return arguments.length?(i=t,k):i},k.tooltip=function(t){return arguments.length?("function"==typeof t&&(y=t),f=!!t,k):f},k.title=function(t){return arguments.length?(l=t,k):l},k.transitionDuration=function(t){return arguments.length?(c=t,k):c},k.transitionEase=function(t){return arguments.length?(d=t,k):d},k.sort=function(t){return arguments.length?(s=t,k):s},k.inverted=function(t){return arguments.length?(h=t,k):h},k.label=function(t){return arguments.length?(b=t,k):b},k.search=function(t){var n=[];return u.each(function(e){n=function(t,n){var e=new RegExp(n),r=[];return function t(n){var o=m(n);x(n)&&x(n).forEach(function(n){t(n)}),void 0!==o&&o&&o.match(e)?(n.highlight=!0,r.push(n)):n.highlight=!1}(t),r}(e,t),S()}),n},k.findById=function(t){if(void 0!==t)return function t(n,e){return e.id===n?e:x(e)?x(e).find(e=>t(n,e)):void 0}(t,u.data()[0])},k.clear=function(){u.each(function(t){!function t(n){n.highlight=!1,x(n)&&x(n).forEach(function(n){t(n)})}(t),S()})},k.zoomTo=function(t){H(t)},k.resetZoom=function(){u.each(function(t){H(t)})},k.onClick=function(t){return arguments.length?(p=t,k):p},k.merge=function(t){var e;u.each(function(r){!function t(n,e){e.forEach(function(e){var r=n.find(function(t){return t.name===e.name});r?(r.original?r.original+=e.value:r.value+=e.value,e.children&&(r.children||(r.children=[]),t(r.children,e.children))):n.push(e)})}([r.data],[t]),j(e=n.hierarchy(r.data,function(t){return x(t)}))}),u=u.datum(e),S()},k.color=function(t){return arguments.length?(E=t,k):E},k.minFrameSize=function(t){return arguments.length?(g=t,k):g},k.details=function(t){return arguments.length?(v=t,k):v},k},Object.defineProperty(t,"__esModule",{value:!0})});