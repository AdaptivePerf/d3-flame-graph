!function(){function t(){function t(t){return t.name+" ("+d3.round(100*t.dx,3)+"%, "+t.value+" samples)"}function e(t){var n,e,r,a=0;if(t)for(n=0,r=t.length;r>n&&"("!=t[n];n++)e=t.charCodeAt(n),a=(a<<5)-a+e,a|=0;a=Math.abs(a%256/256);var u=50+Math.round(60*a),i=135+Math.round(90*a);return"rgb("+u+","+i+","+i+")"}function r(t){if(t.children&&(n=t.children.length)){t.children.forEach(r);var e=0;t.children.forEach(function(t){e+=t.value}),e<t.value&&t.children.push({name:null,value:t.value-e,dummy:!0})}}function a(n){if(!arguments.length)return a;var d=d3.scale.linear().range([0,i]),f=d3.scale.linear().range([0,l]);n.each(function(n){u=d3.select(this),r(n);var a=o(n),h=i/n.dx,s=u.selectAll("rect").data(a).enter().append("svg:g").attr("width",function(t){return t.dx*h}).attr("height",function(t){return l}).attr("transform",function(t){return"translate("+d(t.x)+","+(c-f(t.depth))+")"}).attr("class","frame").attr("name",function(t){return t.name});rect=s.append("svg:rect").attr("width",function(t){return t.dx*h}).attr("height",function(t){return l}).attr("fill",function(t){return e(t.name)}).style("opacity",function(t){return t.dummy?0:1}),s.each(function(n){if(!n.dummy){var e=d3.select(this);e.append("svg:title").text(t),e.append("foreignObject").attr("class","foreignObject").attr("width",function(t){return t.dx*h}).attr("height",function(t){return l}).append("xhtml:div").attr("class","label").style("display",function(t){return t.dx*h<25?"none":"block"}).text(t)}})})}var u=null,i=1200,c=600,l=18,o=d3.layout.partition().sort(function(t,n){return d3.ascending(t.name,n.name)}).value(function(t){return t.v||t.value}).children(function(t){return t.c||t.children});return a.height=function(t){return arguments.length?(c=t,a):c},a.width=function(t){return arguments.length?(i=t,a):i},a}"undefined"!=typeof module&&module.exports?module.exports=t:d3.layout.flame=t}();